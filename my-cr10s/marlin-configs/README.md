# my-cr10s/marlin-configs

My Marlin firmware configuration files. Currently using Marlin version specified in [marlin-version](marlin-version).

## Confirming What Build is on my Printer

The GitHub Actions build writes a release name (made up of the GHA run ID and commit SHA) to a `Version.h` file. The version should be displayed on the splash screen at bootup, and can be retrieved from the printed via `M115` (firmware information):

```
Send: M115
Recv: FIRMWARE_NAME:Marlin build46_19d66b3 (Jun 11 2023 11:34:57) SOURCE_CODE_URL:github.com/jantman/3d-printed-things my-cr10s/marlin-configs PROTOCOL_VERSION:1.0 MACHINE_TYPE:CR-10S EXTRUDER_COUNT:1 UUID:cede2a2f-41a2-4748-9b12-c55c62f367ff
[...]
```

The above example shows `build46_19d66b3` which was generated by [build #46](https://github.com/jantman/3d-printed-things/actions/workflows/build-firmware.yml) resulting in release [build46_19d66b3](https://github.com/jantman/3d-printed-things/releases/tag/build46_19d66b3) of tag [build46_19d66b3](https://github.com/jantman/3d-printed-things/tree/build46_19d66b3).

## Build Process

1. Update [marlin-version](marlin-version) if needed.
2. Update the various `.h` files in this directory as needed.
3. Commit and push.
4. The [Build Firmware GitHub Action](https://github.com/jantman/3d-printed-things/actions/workflows/build-firmware.yml) will build the firmware image, and make it available as a [Release](https://github.com/jantman/3d-printed-things/releases).

## Firmware Flashing - Initial Flash on New Board

For the time being, let's just use the sdcard `firmware.bin` process to flash the board. If I end up doing this often, I can always try [OctoPrint-FirmwareUpdater with MarlinBFT](https://github.com/OctoPrint/OctoPrint-FirmwareUpdater/blob/master/doc/marlinbft.md)
